{% extends "base.html" %}

{% block title%}
    Basket Page
{% endblock %}

{% block content %}
<div class id="blackout"></div>
<div id="title">
    <div class="center">
       <h2> <u>Welcome to the basket page</u></h2>

    </div>

</div>

</div>

{% for key, value in cart.items() %}
<div class ="product-container">
    <br>
    <br>
    <h4>&nbsp;{{ value[0] }}</h4>
    <img src="static/images/{{value[7]}}/{{value[4]}}" width="300" height="200" />
    <p>&nbsp;{{value[6]}}</p>
    {% if value[1] !=None %}
         <p>&nbsp; Price:&nbsp;£{{ value[2] }} X {{ value[1] }}</p>
    {% else %}
         <p>&nbsp; Price:&nbsp;£{{ value[2] }} X 1</p>
    {% endif %}
    <a href="/remove/{{value[5]}}" button type="button" class="btn btn-outline-success">Remove</a>

   
    <br>
</div>
{% endfor %}

{% if subtotal >0 %}
<br>
<a href="/remove/all" button type="button" class="btn btn-outline-success">Remove all</a>
<br>
<br>
<h4>Total Price: £{{subtotal}}&nbsp;&nbsp;<button id="checkout" button type="button" class="btn btn-outline-success">Checkout</button> </h4> 
{% else %}
<h6>No items added to basket</h6>
{% endif %}


<div class id="popup-container">
    <div class id="ordering">
        <h5>Items:<br></h5>
        {% for key, value in cart.items() %}
        
        <ul>    
            {% if value[6] !=None %}
              <li>&nbsp;{{value[0]}}&nbsp;:&nbsp;&nbsp;£{{value[2]}} X {{value[1]}}</li>
            {% else %}
              <li>&nbsp;{{value[0]}}&nbsp;:&nbsp;&nbsp;£{{value[2]}} X 1</li>
            
            {% endif %}
        </ul>
            
        {% endfor %}
   
        <h5>Total Price: £{{subtotal}}</h5>
        <br>
        <div class ="center">
            <div class id="form">
                <form action='#' method="post">
                
                
                <p>Credit Card number:</p>
                    <p> <input type="text" placeholder="Credit card number" name="cn"></p>
                
                    
                <p>Security number:</p>
                    <p> <input type="text" placeholder="Security number" name="cn" /> </p>
                
                
                <p>Address1:</p>
                    <p> <input type="text" placeholder="Address" name="ad" />  </p>

                    
                <p>Address2:</p>
                    <p> <input type="text" placeholder="Address2" name="ad" />  </p>
                
                <p>Postcode:</p>
                    <p> <input type="text" placeholder="Postcode" name="ad" />  </p>
                
                </form>
            </div>
            
        <button id="confirm" button type="button" class="btn btn-outline-success">Confirm</button>
        &nbsp;&nbsp;&nbsp;&nbsp;
        <button id="cancel" button type="button" class="btn btn-outline-success">Cancel</button>
        </div>


      
</div>

    <div class id="ordered">
        <div class="center">
            <h5>Thanks for ordering! Your parcel will come soon</h5>
            <a href="/done" button id="done" button type="button" class="btn btn-outline-success">Done</a>
        </div>
      
    </div>
</div>

<script>
    document.getElementById("checkout").addEventListener("click", function(){
        document.getElementById("blackout").style.display="flex";
        document.getElementById("popup-container").style.display="flex";
        document.getElementById("ordered").style.display="none";

   

    })
   
    
    document.getElementById("confirm").addEventListener("click", function(){
        document.getElementById("ordering").style.display="none";
        document.getElementById("ordered").style.display="flex";
    })

    document.getElementById("cancel").addEventListener("click", function(){
        document.getElementById("blackout").style.display="none";
        document.getElementById("popup-container").style.display="none";
    
    })
    document.getElementById("blackout").addEventListener("click", function(){
        document.getElementById("blackout").style.display="none";
        document.getElementById("popup-container").style.display="none";
    
    })
    
    document.getElementById("done").addEventListener("click", function(){
        document.getElementById("blackout").style.display="none";
        document.getElementById("popup-container").style.display="none";
        document.getElementById("ordered").style.display="none";
    
    })



</script>

{% endblock %}
