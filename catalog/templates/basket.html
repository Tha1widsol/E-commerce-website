{% extends "base.html" %}

{% block title%}
    Basket Page
{% endblock %}

{% block content %}
<div class id="blackout"></div>
<div id="title">
    <div class="center">
       <h2> <u>Welcome to the Basket page</u></h2>

    </div>

</div>

</div>

{% for product in basket_items %}
<div class id ="product-container">
    <br>
    <br>
    <h4>&nbsp;{{product[0]}}</h4>
    <img src="static/images/{{product[4]}}/{{product[3]}}" width="300" height="200" />
    <p>&nbsp;{{product[1]}}</p>
    {% if product[6] !=None %}
         <p>&nbsp; Price:&nbsp;£{{product[2]}} X {{product[6]}}</p>
    {% else %}
         <p>&nbsp; Price:&nbsp;£{{product[2]}} X 1</p>
    {% endif %}
    <a href="/remove/{{product[5]}}" button type="button" class="btn btn-outline-success">Remove</a>
    <br>
</div>
{% endfor %}

{% if total_price>0 %}
<br>
<h4>Total Price: £{{total_price}}&nbsp;&nbsp;<button id="checkout" button type="button" class="btn btn-outline-success">Checkout</button> </h4> 
{% else %}
<h6>No items added to basket</h6>
{% endif %}


<div class id="popup-container">
    <div class id="ordering">
        <h5>Items:<br></h5>
        {% for product in basket_items %}
        <ul>    
            {% if product[6] !=None %}
              <li>&nbsp;{{product[0]}}&nbsp;:&nbsp;&nbsp;£{{product[2]}} X {{product[6]}}</li>
            {% else %}
              <li>&nbsp;{{product[0]}}&nbsp;:&nbsp;&nbsp;£{{product[2]}} X 1</li>
            
            {% endif %}
        </ul>
        {% endfor %}
        <h5>Total Price: £{{total_price}}</h5>
        <br>
        <div class id="centralizedtext">
            <div class id="form">
                <form action='#' method="post">
                
                
                <p>Credit Card number:</p>
                    <p> <input type="text" placeholder="Credit card number" name="cn"></p>
                
                    
                <p>Security number:</p>
                    <p> <input type="text" placeholder="Security number" name="cn" /> </p>
                
                
                <p>Address1:</p>
                    <p> <input type="text" placeholder="Address" name="ad" />  </p>

                    
                <p>Address2:</p>
                    <p> <input type="text" placeholder="Address2" name="ad" />  </p>
                
                <p>Postcode:</p>
                    <p> <input type="text" placeholder="Postcode" name="ad" />  </p>
                
                </form>
            </div>
            
        <button id="confirm" button type="button" class="btn btn-outline-success">Confirm</button>
        &nbsp;&nbsp;&nbsp;&nbsp;
        <button id="cancel" button type="button" class="btn btn-outline-success">Cancel</button>
        </div>


      
</div>

    <div class id="ordered">
        <div class id ="centralizedtext">
            <h5>Thanks for ordering! Your parcel will come soon</h5>
            <a href="/done" button id="done" button type="button" class="btn btn-outline-success">Done</a>
        </div>
      
    </div>
</div>

<script>
    document.getElementById("checkout").addEventListener("click", function(){
        document.getElementById("blackout").style.display="flex";
        document.getElementById("popup-container").style.display="flex";
        document.getElementById("ordered").style.display="none";

   

    })
   
    
    document.getElementById("confirm").addEventListener("click", function(){
        document.getElementById("ordering").style.display="none";
        document.getElementById("ordered").style.display="flex";
    })

    document.getElementById("cancel").addEventListener("click", function(){
        document.getElementById("blackout").style.display="none";
        document.getElementById("popup-container").style.display="none";
    
    })
    document.getElementById("blackout").addEventListener("click", function(){
        document.getElementById("blackout").style.display="none";
        document.getElementById("popup-container").style.display="none";
    
    })
    
    document.getElementById("done").addEventListener("click", function(){
        document.getElementById("blackout").style.display="none";
        document.getElementById("popup-container").style.display="none";
        document.getElementById("ordered").style.display="none";
    
    })



</script>

{% endblock %}
